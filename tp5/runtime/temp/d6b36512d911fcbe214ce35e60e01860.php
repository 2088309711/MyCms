<?php if (!defined('THINK_PATH')) exit(); /*a:1:{s:70:"D:\php-workspace\MyCms/tp5/application/admin\view\list_news\index.html";i:1577116701;}*/ ?>
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>管理信息</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!--<link rel="stylesheet" href="/statics/pintuer/css/pintuer.css">-->
    <link rel="stylesheet" href="/statics/layui/css/layui.css">
</head>
<body>

<div class="layui-fluid">

    <div class="layui-row" style="margin-top: 15px;">

        <strong style="margin-top: 10px; float: left;">位置：<a href="/index.php/list_news">管理信息</a></strong>

        <div style="float: right">


            <form class="layui-form">

                <div class="layui-form-item">

                    <div class="layui-inline" style="margin: 0;">

                        <div class="layui-input-inline">

                            <select name="city" lay-verify="required" class="">
                                <option value=""></option>
                                <option value="0">北京</option>
                                <option value="1">上海</option>
                                <option value="2">广州</option>
                                <option value="3">深圳</option>
                                <option value="4">杭州</option>
                            </select>

                        </div>

                        <div class="layui-input-inline" style="width: auto; margin-right: 0;">
                            <button type="submit" class="layui-btn layui-btn-normal">增加信息</button>
                            <a href="#" class="layui-btn layui-btn-primary">刷新首页</a>
                            <a href="#" class="layui-btn layui-btn-primary">刷新所有信息JS</a>
                        </div>
                    </div>


                </div>


            </form>


        </div>

    </div>


    <div class="layui-row" style="margin-bottom: 5px;">

        <div class="layui-clear" style="padding: 10px 10px 0 10px; border: 1px solid #e2e2e2;background: #F0F0F0;">


            <form class="layui-form">

                <div class="layui-form-item" style="margin-bottom: 0;">


                    <div class="layui-inline" style="margin: 0;">
                        <div class="layui-input-inline" style="width: 100px; margin-bottom: 10px;">

                            <select name="city" lay-verify="required" class="">
                                <option value=""></option>
                                <option value="0">北京</option>
                                <option value="1">上海</option>
                                <option value="2">广州</option>
                                <option value="3">深圳</option>
                                <option value="4">杭州</option>
                            </select>


                        </div>

                        <div class="layui-input-inline" style="width: 100px; margin-bottom: 10px;">
                            <select name="city" lay-verify="required" class="">
                                <option value=""></option>
                                <option value="0">北京</option>
                                <option value="1">上海</option>
                                <option value="2">广州</option>
                                <option value="3">深圳</option>
                                <option value="4">杭州</option>
                            </select>
                        </div>

                        <div class="layui-input-inline" style="width: 100px; margin-bottom: 10px;">
                            <select name="city" lay-verify="required" class="">
                                <option value=""></option>
                                <option value="0">北京</option>
                                <option value="1">上海</option>
                                <option value="2">广州</option>
                                <option value="3">深圳</option>
                                <option value="4">杭州</option>
                            </select>
                        </div>

                        <div class="layui-input-inline" style="width: 100px; margin-bottom: 10px;">
                            <select name="city" lay-verify="required" class="">
                                <option value=""></option>
                                <option value="0">北京</option>
                                <option value="1">上海</option>
                                <option value="2">广州</option>
                                <option value="3">深圳</option>
                                <option value="4">杭州</option>
                            </select>
                        </div>


                        <div class="layui-input-inline" style="width: 100px; margin-bottom: 10px;">
                            <select name="city" lay-verify="required" class="">
                                <option value=""></option>
                                <option value="0">北京</option>
                                <option value="1">上海</option>
                                <option value="2">广州</option>
                                <option value="3">深圳</option>
                                <option value="4">杭州</option>
                            </select>
                        </div>


                        <div class="layui-input-inline" style="width: 100px; margin-bottom: 10px;">
                            <select name="city" lay-verify="required" class="">
                                <option value=""></option>
                                <option value="0">北京</option>
                                <option value="1">上海</option>
                                <option value="2">广州</option>
                                <option value="3">深圳</option>
                                <option value="4">杭州</option>
                            </select>
                        </div>

                        <div class="layui-input-inline" style="width: 100px; margin-bottom: 10px;">
                            <select name="city" lay-verify="required" class="">
                                <option value=""></option>
                                <option value="0">北京</option>
                                <option value="1">上海</option>
                                <option value="2">广州</option>
                                <option value="3">深圳</option>
                                <option value="4">杭州</option>
                            </select>
                        </div>

                        <div class="layui-input-inline" style="width: 100px; margin-bottom: 10px;">
                            <select name="city" lay-verify="required" class="">
                                <option value=""></option>
                                <option value="0">北京</option>
                                <option value="1">上海</option>
                                <option value="2">广州</option>
                                <option value="3">深圳</option>
                                <option value="4">杭州</option>
                            </select>
                        </div>


                        <div class="layui-input-inline" style="width: 200px; margin-bottom: 10px;">
                            <input type="text" name="" placeholder="关键词" class="layui-input">
                        </div>

                        <div class="layui-input-inline" style="width: auto; margin: 0 0 10px 0;">

                            <button type="submit" class="layui-btn layui-btn-normal">搜索</button>

                        </div>


                    </div>


                </div>


            </form>


        </div>
    </div>


    <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
        <ul class="layui-tab-title">
            <li class="layui-this">已发布(23)</li>
            <li>待审核(0)</li>
        </ul>


        <div class="layui-tab-content" style="padding: 10px 0;">


            <div class="layui-row">


                <div style="float: left;">


                    <form class="layui-form">


                        <select name="city" lay-verify="required">
                            <option value=""></option>
                            <option value="0">北京</option>
                            <option value="1">上海</option>
                            <option value="2">广州</option>
                            <option value="3">深圳</option>
                            <option value="4">杭州</option>
                        </select>


                    </form>


                </div>


                <div style="float: right;">


                    <div class="layui-btn-group">
                        <a href="#" class="layui-btn">我的信息</a>
                        <a href="#" class="layui-btn">签发信息</a>
                        <a href="#" class="layui-btn">投稿信息</a>
                        <a href="#" class="layui-btn">查询重复标题A</a>
                        <a href="#" class="layui-btn">查询重复标题B</a>
                        <a href="#" class="layui-btn">更新数据</a>
                        <a href="#" class="layui-btn">预览首页</a>
                    </div>


                </div>


            </div>


            <div class="layui-tab-item layui-show">
                <table id="table1" lay-filter="test"></table>


                <div class="layui-row" style="margin-bottom: 5px;">

                    <div class="layui-clear"
                         style="padding: 10px 10px 0 10px; border: 1px solid #e2e2e2;background: #F0F0F0;">


                        <form class="layui-form">

                            <div class="layui-form-item" style="margin-bottom: 0;">


                                <div class="layui-inline" style="margin: 0;">
                                    <div class="layui-input-inline" style="width: auto; margin-bottom: 10px;">

                                        <div class="layui-btn-group demoTable">
                                            <button class="layui-btn" data-type="getCheckData">删除</button>
                                            <button class="layui-btn" data-type="getCheckLength">取消审核</button>
                                            <button class="layui-btn" data-type="isAll">刷新</button>
                                            <button class="layui-btn" data-type="isAll">推送</button>
                                            <button class="layui-btn" data-type="getCheckLength">修改时间</button>
                                            <button class="layui-btn" data-type="isAll">推送至专题</button>
                                        </div>


                                    </div>
                                </div>


                                <div class="layui-inline" style="margin: 0;">


                                    <div class="layui-input-inline" style="width: 100px; margin-bottom: 10px;">
                                        <select name="city" lay-verify="required" class="">
                                            <option value=""></option>
                                            <option value="0">北京</option>
                                            <option value="1">上海</option>
                                            <option value="2">广州</option>
                                            <option value="3">深圳</option>
                                            <option value="4">杭州</option>
                                        </select>
                                    </div>

                                    <div class="layui-input-inline" style="width: auto; margin-bottom: 10px;">
                                        <button class="layui-btn" data-type="getCheckData">推荐</button>
                                    </div>

                                </div>


                                <div class="layui-inline" style="margin: 0;">

                                    <div class="layui-input-inline" style="width: 100px; margin-bottom: 10px;">
                                        <select name="city" lay-verify="required" class="">
                                            <option value=""></option>
                                            <option value="0">北京</option>
                                            <option value="1">上海</option>
                                            <option value="2">广州</option>
                                            <option value="3">深圳</option>
                                            <option value="4">杭州</option>
                                        </select>
                                    </div>


                                    <div class="layui-input-inline" style="width: auto; margin-bottom: 10px;">
                                        <button class="layui-btn" data-type="getCheckData">头条</button>
                                    </div>

                                </div>


                                <div class="layui-inline" style="margin: 0;">

                                    <div class="layui-input-inline" style="width: 100px; margin-bottom: 10px;">
                                        <select name="city" lay-verify="required" class="">
                                            <option value=""></option>
                                            <option value="0">北京</option>
                                            <option value="1">上海</option>
                                            <option value="2">广州</option>
                                            <option value="3">深圳</option>
                                            <option value="4">杭州</option>
                                        </select>
                                    </div>
                                    <div class="layui-input-inline" style="width: auto; margin-bottom: 10px;">
                                        <button class="layui-btn" data-type="getCheckData">置顶</button>
                                    </div>

                                </div>


                                <div class="layui-inline" style="margin: 0;">

                                    <div class="layui-input-inline" style="width: 100px; margin-bottom: 10px;">
                                        <select name="city" lay-verify="required" class="">
                                            <option value=""></option>
                                            <option value="0">北京</option>
                                            <option value="1">上海</option>
                                            <option value="2">广州</option>
                                            <option value="3">深圳</option>
                                            <option value="4">杭州</option>
                                        </select>
                                    </div>


                                    <div class="layui-input-inline" style="width: auto; margin: 0 0 10px 0;">
                                        <div class="layui-btn-group demoTable">
                                            <button class="layui-btn" data-type="getCheckData">移动</button>
                                            <button class="layui-btn" data-type="getCheckLength">复制</button>
                                        </div>
                                    </div>
                                </div>


                            </div>


                        </form>


                    </div>
                </div>


            </div>
            <div class="layui-tab-item">
                <table id="table2" lay-filter="test"></table>
            </div>


            <blockquote class="layui-elem-quote" style="margin: 10px 0 0 0;">
                备注：多选框蓝色为未审核信息；发布者红色为会员投稿；信息ID粗体为未生成，点击ID可刷新页面。
            </blockquote>

        </div>
    </div>


</div>


<script type="text/html" id="barDemo">
    <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="detail">查看</a>
    <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>


<script src="/statics/layui/layui.js"></script>

<script>
    layui.use(['table', 'element'], function () {
        var table = layui.table;
        var element = layui.element;


        //监听表格复选框选择
        table.on('checkbox(table1)', function (obj) {
            console.log(obj)
        });


        //第一个实例
        table.render({
            elem: '#table1'
            , height: 400
            , url: '/index.php/list_news_get_data' //数据接口
            , page: true //开启分页
            , cols: [[ //表头
                {type: 'checkbox'},
                {field: 'id', title: 'ID', width: 80, sort: true}
                , {field: 'title', title: '标题', sort: true}
                , {field: 'username', title: '发布者', width: 100, sort: true}
                , {field: 'newstime', title: '发布时间', width: 120, sort: true}
                , {field: 'onclick', title: '点击', width: 80, sort: true}
                , {field: 'plnum', title: '评论', width: 80, sort: true}
                , {fixed: 'right', width: 180, align: 'center', toolbar: '#barDemo'}
            ]]
        });


        //监听工具条
        table.on('tool(test)', function (obj) { //注：tool 是工具条事件名，test 是 table 原始容器的属性 lay-filter="对应的值"
            var data = obj.data; //获得当前行数据
            var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
            var tr = obj.tr; //获得当前行 tr 的 DOM 对象（如果有的话）

            if (layEvent === 'detail') { //查看
                //do somehing
            } else if (layEvent === 'del') { //删除
                layer.confirm('真的删除行么', function (index) {
                    obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
                    layer.close(index);
                    //向服务端发送删除指令
                });
            } else if (layEvent === 'edit') { //编辑
                //do something

                //同步更新缓存对应的值
                obj.update({
                    username: '123'
                    , title: 'xxx'
                });
            } else if (layEvent === 'LAYTABLE_TIPS') {
                layer.alert('Hi，头部工具栏扩展的右侧图标。');
            }
        });


        var $ = layui.$, active = {
            getCheckData: function () { //获取选中数据
                var checkStatus = table.checkStatus('table1')
                    , data = checkStatus.data;
                layer.alert(JSON.stringify(data));
            }
            , getCheckLength: function () { //获取选中数目
                var checkStatus = table.checkStatus('table1')
                    , data = checkStatus.data;
                layer.msg('选中了：' + data.length + ' 个');
            }
            , isAll: function () { //验证是否全选
                var checkStatus = table.checkStatus('table1');
                layer.msg(checkStatus.isAll ? '全选' : '未全选')
            }
        };

        $('.demoTable .layui-btn').on('click', function () {
            var type = $(this).data('type');
            active[type] ? active[type].call(this) : '';
        });

    });
</script>

</body>
</html>